<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/common.xhtml">
	<ui:define name="pageTitle">Radiologia</ui:define>
	<ui:define name="pageHeader">Ingreso de Resultados</ui:define>
	<ui:define name="body">
		<h:form id="frmCreateRadiologia" prependId="false">
			<p:panel header="Datos del Paciente">
				<h:panelGrid columns="8" cellspacing="10">
					<p:outputLabel id="lblName" value="Nombre:" for="outName" />
					<h:outputText id="outName"
						value="#{radiologyPersistence.model.paciente.name}" />
					<p:outputLabel id="lblLast" value="Apellido Paterno:" for="outLast" />
					<h:outputText id="outLast"
						value="#{radiologyPersistence.model.paciente.lastName}" />
					<p:outputLabel id="lblMother" value="Apellido Materno:"
						for="outMother" />
					<h:outputText id="outMother"
						value="#{radiologyPersistence.model.paciente.maternalLastName}" />
					<p:outputLabel id="lblAge" value="Edad:" for="outage" />
					<h:outputText id="outage"
						value="#{radiologyPersistence.model.paciente.age}" />
				</h:panelGrid>

				<p:separator />

			</p:panel>
			<p:panel header="Ingreso de Resultado">
				<h:panelGrid columns="8" cellspacing="0" cellpadding="5">
					<p:outputLabel value="Gabinete: " for="gabinete" />
					<p:selectOneMenu id="gabinete"
						value="#{radiologyPersistence.model.gabinete}"
						converter="#{gabineteConverter}">
						<f:selectItems value="#{gabineteQuery.queryListDM}"
							var="_gabinete" itemLabel="#{_gabinete.name}"
							itemValue="#{_gabinete}"></f:selectItems>
					</p:selectOneMenu>
					<p:outputLabel value="Tipo de Estudio: " for="tipoestudio" />
					<p:selectOneMenu id="tipoestudio" style="width:200px"
						value="#{radiologyPersistence.model.tipoestudiocita}"
						converter="#{tipoEstudioCitaConverter}">
						<f:selectItems value="#{tipoEstudioCitaQuery.queryListDM}"
							var="_tipoestudiocita" itemLabel="#{_tipoestudiocita.name}"
							itemValue="#{_tipoestudiocita}"></f:selectItems>
					</p:selectOneMenu>
					<p:outputLabel value="Tipo de resultado: " for="tiporesultado" />
					<p:selectOneMenu id="tiporesultado"  
						value="#{radiologyPersistence.model.tiporesultado}"
						converter="#{tipoResultadoConverter}">
						<f:selectItems value="#{tipoResultadoQuery.queryListDM}"
							var="_tiporesultado" itemLabel="#{_tiporesultado.name}"
							itemValue="#{_tiporesultado}"></f:selectItems>
					</p:selectOneMenu>
					<p:outputLabel value="Fecha de Realizacion: "
						for="popupButtonDateReal" />
					<p:calendar value="#{radiologyPersistence.model.daterealized}" locale="es"
						id="popupButtonDateReal" required="true" navigator="true" size="24">
						<f:convertDateTime type="date" dateStyle="short" />
					</p:calendar>
					<p:outputLabel value="Fecha de Interpretacion: "
						for="popupButtonDateInter" />
					<p:calendar value="#{radiologyPersistence.model.dateinterpreted}" locale="es"
						id="popupButtonDateInter" required="true" navigator="true" size="24">
						<f:convertDateTime type="date" dateStyle="short" />
					</p:calendar>
					<p:outputLabel value="Fecha de Notificacion:  "
						for="popupButtonDateNoti" />
					<p:calendar value="#{radiologyPersistence.model.dateNotified}" locale="es"
						id="popupButtonDateNoti" required="true" navigator="true" size="10">
						<f:convertDateTime type="date" dateStyle="short" />
					</p:calendar>
					<h:outputText value="Signos:"/>
					<p:inputTextarea id="signos" 
						value="#{radiologyPersistence.model.signs}" />
					<h:outputText value="Adecuado:"/>  
        			<p:selectBooleanCheckbox id="chkadecuada" value="#{radiologyPersistence.model.adequate}" 
        			immediate="true" />
        			  <p:ajax event="click" update="motivo" process="chkadecuada" global="false"/>
					<p:outputLabel value="Motivo de inadecuado: " for="motivo" />
					<p:selectOneMenu id="motivo" disabled="#{radiologyPersistence.model.adequate}"
						value="#{radiologyPersistence.model.motivoinadecuada}"
						converter="#{motivoInadecuadaConverter}">
						<f:selectItems value="#{motivoInadecuadaQuery.queryListDM}"
							var="_motivoInadecuada" itemLabel="#{_motivoInadecuada.name}"
							itemValue="#{_motivoInadecuada}"></f:selectItems>
					</p:selectOneMenu>
					<p:outputLabel value="Medico que interpreto estudio: " for="medico" />
					<p:selectOneMenu id="medico"
						value="#{radiologyPersistence.model.personal}"
						converter="#{personalConverter}">
						<f:selectItems value="#{personalQuery.queryListDM}"
							var="_personal" itemLabel="#{_personal.name}"
							itemValue="#{_personal}"></f:selectItems>
					</p:selectOneMenu>
				</h:panelGrid>
				<br></br>
				<h:panelGroup>
					<p:panelGrid columns="4">
						<p:outputLabel id="lblHallazgo" for="hallazgo" value="Hallazgos"/>
								<p:selectOneMenu id="hallazgo" value="#{radiologyPersistence.hallazgos.name}">
									<f:selectItem itemLabel="Hallazgo1" itemValue = "Hallazgo 1"/>
									<f:selectItem itemLabel="Hallazgo2" itemValue = "Hallazgo 2"/>
									<f:selectItem itemLabel="Hallazgo3" itemValue = "Hallazgo 3"/>
									<f:selectItem itemLabel="Hallazgo4" itemValue = "Hallazgo 4"/>
								</p:selectOneMenu>
								
								<p:selectOneMenu id="slcHallazgo" value="#{radiologyPersistence.hallazgos.side}">
									<f:selectItem itemLabel="IZQ" itemValue="IZQ"/>
									<f:selectItem itemLabel="DER" itemValue="DER"/>
								</p:selectOneMenu>
								<p:commandButton id="btnHallazgo" value="+" actionListener="#{radiologyPersistence.addHallazgos}"
									update="hallazgo dtaHallazgos" ajax="true" process="@this,hallazgo,slcHallazgo"/>
					</p:panelGrid>
					<h:panelGrid columns="4">
						<p:dataList id="dtaHallazgos" value="#{radiologyPersistence.hallazgosList}"
									var="_hall" type="definition" itemType="disc">
									<f:facet name="header">Hallazgos</f:facet>
									<p:commandButton id="btnHallazgoName" title="Borrar" icon="ui-icon-close"
										actionListener="#{radiologyPersistence.eraseHallazgo}"
										ajax="true" process="@this" update="@parent">
										<f:attribute name="selectHallazgo" value="#{_hall}"/>
									</p:commandButton>
									<h:outputText value="* #{_hall.name}" />
									<f:facet name="description">
										<h:outputText value="Lado - #{_hall.side}" />
									</f:facet>
									<br />
								</p:dataList>
					</h:panelGrid>
				</h:panelGroup>
			</p:panel>
		<p:commandButton id="btnSave" value="Salvar" actionListener="#{radiologyPersistence.save}"
					ajax="true" action="/pacientes/busqueda?faces-redirect=true"/>
				<p:commandButton dir="btnCancel" value="Cancelar" actionListener="#{radiologyPersistence.cancel}"
					ajax="false" action="/radiologia/RadiologiaEntradas?faces-redirect=true" immediate="true"/>
		</h:form>
	</ui:define>
</ui:composition>
</html>





