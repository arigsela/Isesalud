<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<html>

<h:head></h:head> 
<h:body> 
	<h1>Captura de Pacientes</h1>
	<h:form id="testForm" prependId="false">
		<p:messages autoUpdate="true" showDetail="true" showSummary="true"/>
		<p:commandButton id="btnSearch" value="Buscar" actionListener="#{patientQuery.query}"
			update="tblResults" ajax="true"/>
		<p:commandButton id="btnCreate" value="Ingresar Nuevo" actionListener="#{patientPersistence.add}"
			action="PacientesEntradas" ajax="false"/>
		<p:dataTable id="tblResults" value="#{patientQuery.model}" var="_stuff">
			<p:column headerText="Nombre">
				<h:outputText value="#{_stuff.name}" />
			</p:column>
			<p:column headerText="Apellido Paterno">
				<h:outputText value="#{_stuff.lastName}" />
			</p:column>
			<p:column headerText="Apellido Materno">
				<h:outputText value="#{_stuff.maternalLastName}" />
			</p:column>
			<p:column headerText="Fecha de Nacimiento">
				<h:outputText value="#{_stuff.dateofBirth}" >
					<f:convertDateTime type="date" dateStyle="medium" locale="es_ES"/>
				</h:outputText>
			</p:column>
			<p:column headerText="Fecha de creacion">
				<h:outputText value="#{_stuff.dateCreated}" >
					<f:convertDateTime dateStyle="medium" type="date" locale="es_ES"/>
				</h:outputText>
			</p:column>
			<p:column headerText="Hora de creacion">
				<h:outputText value="#{_stuff.timeCreated}" >
					<f:convertDateTime type="time" timeStyle="medium" locale="es_ES"/>
				</h:outputText>
			</p:column>
		</p:dataTable>
	</h:form>
</h:body> 
</html>
</f:view> 

